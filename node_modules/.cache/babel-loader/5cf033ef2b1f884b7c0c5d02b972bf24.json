{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mamoussa\\\\project\\\\moc\\\\src\\\\views\\\\Account\\\\components\\\\AccountDetails\\\\AccountDetails.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport authHeader from 'services/auth-header';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport { Card, CardHeader, CardContent, CardActions, Divider, Grid, Button, TextField } from '@material-ui/core';\n\nclass AccountDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      email: \"\",\n      updateaction: false\n    };\n\n    this.getUserDetails = _ => {\n      const userNamesession = JSON.parse(localStorage.getItem('user'));\n      console.log(userNamesession);\n      fetch('http://localhost:4000/api/user/listByUsername/' + userNamesession.username).then(response => response.json()).then(response => this.setState({\n        data: response.data\n      })).catch(err => console.error(err));\n    };\n\n    this.handleEmailChange = e => {};\n\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillUpdate() {\n    this.setState({\n      updateaction: false\n    });\n  }\n\n  componentDidMount() {\n    this.getUserDetails();\n  }\n\n  handleChange(event) {\n    this.setState({\n      email: event\n    });\n  }\n\n  UpdateUserProfile(FirstName, LastName, email, PhoneNumber, Adresse, Adresse2, country, PostalCode) {\n    const userNamesession = JSON.parse(localStorage.getItem('user'));\n    const baseUrl = \"http://localhost:4000/api/user/updateProfile/\" + userNamesession.id;\n    const datapost = {\n      FirstName: FirstName,\n      LastName: LastName,\n      email: email,\n      PhoneNumber: PhoneNumber,\n      Adresse: Adresse,\n      Adresse2: Adresse2,\n      Country: country,\n      PostalCode: PostalCode\n    };\n    axios.post(baseUrl, datapost, {\n      headers: authHeader()\n    }).then(response => {\n      if (response.data.success) {\n        alert(response.data.message);\n      } else {\n        alert(\"Error when updating data\");\n      }\n    }).catch(error => {\n      alert(error);\n      console.log(error);\n    });\n  }\n\n  handleSubmit(event) {\n    if (!false) {\n      alert('A name was submitted: ');\n    }\n  }\n\n  render() {\n    console.log(this.state.email);\n    return React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      ref: \"form\",\n      onSubmit: this.handleSubmit() //onSubmit={this.UpdateUserProfile(\"\",\"LastName\",\"email\",\"4444\",\"Adresse\",\"Adresse2\",\"FR\",\"22222\")}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      subheader: \"The information can be edited\",\n      title: \"Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        helperText: \"\",\n        label: \"First name\",\n        margin: \"dense\",\n        name: \"firstName\",\n        required: true,\n        value: user.FirstName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Last name\",\n        margin: \"dense\",\n        name: \"lastName\",\n        required: true,\n        value: user.LastName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Email Address\",\n        margin: \"dense\",\n        name: \"email\",\n        required: true,\n        value: user.email,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Phone Number\",\n        margin: \"dense\",\n        name: \"phone\",\n        value: user.PhoneNumber,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Adresse 1\",\n        margin: \"dense\",\n        name: \"state\",\n        required: true // eslint-disable-next-line react/jsx-sort-props\n        ,\n        value: user.Adresse,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Adresse 2\",\n        margin: \"dense\",\n        name: \"state\",\n        required: true // eslint-disable-next-line react/jsx-sort-props\n        ,\n        value: user.Adresse2,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Country\",\n        margin: \"dense\",\n        name: \"country\",\n        required: true,\n        value: user.Country,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 242\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        fullWidth: true,\n        label: \"Postal Code\",\n        name: \"Postal Code\",\n        required: true,\n        value: user.PostalCode,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 260\n        },\n        __self: this\n      });\n    })))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\",\n      type: \"submit\" //onClick={this.setState({updateaction:true}) }\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, \"Save details\"))));\n  }\n\n}\n\nexport default AccountDetails;","map":{"version":3,"sources":["C:/Users/mamoussa/project/moc/src/views/Account/components/AccountDetails/AccountDetails.js"],"names":["React","useState","axios","authHeader","clsx","Component","PropTypes","makeStyles","Card","CardHeader","CardContent","CardActions","Divider","Grid","Button","TextField","AccountDetails","constructor","props","state","data","email","updateaction","getUserDetails","_","userNamesession","JSON","parse","localStorage","getItem","console","log","fetch","username","then","response","json","setState","catch","err","error","handleEmailChange","e","handleSubmit","bind","componentWillUpdate","componentDidMount","handleChange","event","UpdateUserProfile","FirstName","LastName","PhoneNumber","Adresse","Adresse2","country","PostalCode","baseUrl","id","datapost","Country","post","headers","success","alert","message","render","map","user"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport authHeader from 'services/auth-header';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/styles';\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Grid,\n  Button,\n  TextField\n} from '@material-ui/core';\nclass AccountDetails extends Component{\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n  state={\n    data:[],\n    email:\"\",\n    updateaction:false,\n  }\n  componentWillUpdate(){\n\n    this.setState({updateaction:false})\n  }\n  componentDidMount(){\n    this.getUserDetails();\n      \n      }\n      handleChange(event) {\n       this.setState({email: event});\n      }\n    \n   getUserDetails= _ =>{\n    const userNamesession = JSON.parse(localStorage.getItem('user'));\n    console.log(userNamesession)\n        fetch('http://localhost:4000/api/user/listByUsername/'+userNamesession.username )\n        .then(response=>response.json())\n        .then(response=>this.setState({data:response.data}))\n        .catch(err=>console.error(err))\n      }\n\n\n      UpdateUserProfile(FirstName,LastName,email,PhoneNumber,Adresse,Adresse2,country,PostalCode) {\n        const userNamesession = JSON.parse(localStorage.getItem('user'));\n       \n        const baseUrl = \"http://localhost:4000/api/user/updateProfile/\"+userNamesession.id\n        const datapost = {\n          FirstName:FirstName,\n          LastName:LastName,\n          email:email,\n          PhoneNumber:PhoneNumber,\n          Adresse:Adresse,\n          Adresse2:Adresse2,\n          Country:country,\n          PostalCode:PostalCode\n        \n        }\n      \n        axios.post(baseUrl,datapost,{ headers: authHeader() })\n        .then(response => {\n          if (response.data.success) {\n           alert(response.data.message)\n          }\n          else {\n            alert(\"Error when updating data\")\n           \n          }\n        })\n        .catch ( error => {\n          alert(error)\n          console.log(error)\n        })\n      }\n       handleEmailChange= (e) => {\n        \n     }\n     handleSubmit(event) {\n      if (!false) { \n      alert('A name was submitted: ' );} \n       \n    }\n\n      render(){\n         \n        console.log(this.state.email)\n        return ( \n         \n    <Card>\n       \n      <form\n          ref=\"form\"\n        onSubmit={this.handleSubmit()}\n        //onSubmit={this.UpdateUserProfile(\"\",\"LastName\",\"email\",\"4444\",\"Adresse\",\"Adresse2\",\"FR\",\"22222\")}\n      >\n        <CardHeader\n          subheader=\"The information can be edited\"\n          title=\"Profile\"\n        />\n        <Divider />\n        <CardContent>\n          <Grid\n            container\n            spacing={3}\n          >\n    \n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n               {this.state.data.map(function (user) {\n            return (\n            <TextField\n              fullWidth\n              helperText=\"\"\n              label=\"First name\"\n              margin=\"dense\"\n              name=\"firstName\"\n               \n              required\n              value={user.FirstName}\n               \n              variant=\"outlined\"\n            />)})}\n              \n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n                {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Last name\"\n                margin=\"dense\"\n                name=\"lastName\"\n                \n                required\n                value={user.LastName}\n                variant=\"outlined\"\n                />)})}\n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n              {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Email Address\"\n                margin=\"dense\"\n                name=\"email\"\n                \n                required\n                value={user.email}\n                variant=\"outlined\"\n                />)})}\n            </Grid>\n         \n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n               {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Phone Number\"\n                margin=\"dense\"\n                name=\"phone\"\n                value={user.PhoneNumber}\n                variant=\"outlined\"\n                />)})}\n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n                {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Adresse 1\"\n                margin=\"dense\"\n                name=\"state\"\n                 \n                required\n               \n                // eslint-disable-next-line react/jsx-sort-props\n                \n                value={user.Adresse}\n                variant=\"outlined\"\n                />)})}\n                 \n              \n              \n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n                {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Adresse 2\"\n                margin=\"dense\"\n                name=\"state\"\n                 \n                required\n               \n                // eslint-disable-next-line react/jsx-sort-props\n                \n                value={user.Adresse2}\n                variant=\"outlined\"\n                />)})}\n                 \n              \n              \n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n                {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Country\"\n                margin=\"dense\"\n                name=\"country\"\n                 \n                required\n                value={user.Country}\n                variant=\"outlined\"\n                />)})}\n            </Grid>\n            <Grid\n              item\n              md={6}\n              xs={12}\n            >\n                {this.state.data.map(function (user) {\n            return (\n              <TextField\n                fullWidth\n                label=\"Postal Code\"\n                name=\"Postal Code\"\n                 \n                required\n                value={user.PostalCode}\n                variant=\"outlined\"\n                />)})}\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Divider />\n        <CardActions>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n             \n            type=\"submit\"\n            //onClick={this.setState({updateaction:true}) }\n          >\n            Save details\n          </Button>\n        </CardActions>\n      </form>\n    </Card>\n       \n            \n       \n    )\n\n  }\n  \n  \n  }\n\nexport default AccountDetails;\n"]},"metadata":{},"sourceType":"module"}