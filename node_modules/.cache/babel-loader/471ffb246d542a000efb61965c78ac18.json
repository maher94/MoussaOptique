{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _events = require('../utils/events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _keycode = require('keycode');\n\nvar _keycode2 = _interopRequireDefault(_keycode);\n\nvar _FocusRipple = require('./FocusRipple');\n\nvar _FocusRipple2 = _interopRequireDefault(_FocusRipple);\n\nvar _TouchRipple = require('./TouchRipple');\n\nvar _TouchRipple2 = _interopRequireDefault(_TouchRipple);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar styleInjected = false;\nvar listening = false;\nvar tabPressed = false;\n\nfunction injectStyle() {\n  if (!styleInjected) {\n    // Remove inner padding and border in Firefox 4+.\n    var style = document.createElement('style');\n    style.innerHTML = '\\n      button::-moz-focus-inner,\\n      input::-moz-focus-inner {\\n        border: 0;\\n        padding: 0;\\n      }\\n    ';\n    document.body.appendChild(style);\n    styleInjected = true;\n  }\n}\n\nfunction listenForTabPresses() {\n  if (!listening) {\n    _events2.default.on(window, 'keydown', function (event) {\n      tabPressed = (0, _keycode2.default)(event) === 'tab';\n    });\n\n    listening = true;\n  }\n}\n\nvar EnhancedButton = function (_Component) {\n  (0, _inherits3.default)(EnhancedButton, _Component);\n\n  function EnhancedButton() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, EnhancedButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EnhancedButton.__proto__ || (0, _getPrototypeOf2.default)(EnhancedButton)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isKeyboardFocused: false\n    }, _this.handleKeyDown = function (event) {\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        if ((0, _keycode2.default)(event) === 'enter' && _this.state.isKeyboardFocused) {\n          _this.handleTouchTap(event);\n        }\n\n        if ((0, _keycode2.default)(event) === 'esc' && _this.state.isKeyboardFocused) {\n          _this.removeKeyboardFocus(event);\n        }\n      }\n\n      _this.props.onKeyDown(event);\n    }, _this.handleKeyUp = function (event) {\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        if ((0, _keycode2.default)(event) === 'space' && _this.state.isKeyboardFocused) {\n          _this.handleTouchTap(event);\n        }\n      }\n\n      _this.props.onKeyUp(event);\n    }, _this.handleBlur = function (event) {\n      _this.cancelFocusTimeout();\n\n      _this.removeKeyboardFocus(event);\n\n      _this.props.onBlur(event);\n    }, _this.handleFocus = function (event) {\n      if (event) event.persist();\n\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        // setTimeout is needed because the focus event fires first\n        // Wait so that we can capture if this was a keyboard focus\n        // or touch focus\n        _this.focusTimeout = setTimeout(function () {\n          if (tabPressed) {\n            _this.setKeyboardFocus(event);\n\n            tabPressed = false;\n          }\n        }, 150);\n\n        _this.props.onFocus(event);\n      }\n    }, _this.handleClick = function (event) {\n      if (!_this.props.disabled) {\n        tabPressed = false;\n\n        _this.props.onClick(event);\n      }\n    }, _this.handleTouchTap = function (event) {\n      _this.cancelFocusTimeout();\n\n      if (!_this.props.disabled) {\n        tabPressed = false;\n\n        _this.removeKeyboardFocus(event);\n\n        _this.props.onTouchTap(event);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(EnhancedButton, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _props = this.props,\n          disabled = _props.disabled,\n          disableKeyboardFocus = _props.disableKeyboardFocus,\n          keyboardFocused = _props.keyboardFocused;\n\n      if (!disabled && keyboardFocused && !disableKeyboardFocus) {\n        this.setState({\n          isKeyboardFocused: true\n        });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      injectStyle();\n      listenForTabPresses();\n\n      if (this.state.isKeyboardFocused) {\n        this.button.focus();\n        this.props.onKeyboardFocus(null, true);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ((nextProps.disabled || nextProps.disableKeyboardFocus) && this.state.isKeyboardFocused) {\n        this.setState({\n          isKeyboardFocused: false\n        });\n\n        if (nextProps.onKeyboardFocus) {\n          nextProps.onKeyboardFocus(null, false);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.focusTimeout) {\n        clearTimeout(this.focusTimeout);\n      }\n    }\n  }, {\n    key: 'isKeyboardFocused',\n    value: function isKeyboardFocused() {\n      return this.state.isKeyboardFocused;\n    }\n  }, {\n    key: 'removeKeyboardFocus',\n    value: function removeKeyboardFocus(event) {\n      if (this.state.isKeyboardFocused) {\n        this.setState({\n          isKeyboardFocused: false\n        });\n        this.props.onKeyboardFocus(event, false);\n      }\n    }\n  }, {\n    key: 'setKeyboardFocus',\n    value: function setKeyboardFocus(event) {\n      if (!this.state.isKeyboardFocused) {\n        this.setState({\n          isKeyboardFocused: true\n        });\n        this.props.onKeyboardFocus(event, true);\n      }\n    }\n  }, {\n    key: 'cancelFocusTimeout',\n    value: function cancelFocusTimeout() {\n      if (this.focusTimeout) {\n        clearTimeout(this.focusTimeout);\n        this.focusTimeout = null;\n      }\n    }\n  }, {\n    key: 'createButtonChildren',\n    value: function createButtonChildren() {\n      var _props2 = this.props,\n          centerRipple = _props2.centerRipple,\n          children = _props2.children,\n          disabled = _props2.disabled,\n          disableFocusRipple = _props2.disableFocusRipple,\n          disableKeyboardFocus = _props2.disableKeyboardFocus,\n          disableTouchRipple = _props2.disableTouchRipple,\n          focusRippleColor = _props2.focusRippleColor,\n          focusRippleOpacity = _props2.focusRippleOpacity,\n          touchRippleColor = _props2.touchRippleColor,\n          touchRippleOpacity = _props2.touchRippleOpacity;\n      var isKeyboardFocused = this.state.isKeyboardFocused; // Focus Ripple\n\n      var focusRipple = isKeyboardFocused && !disabled && !disableFocusRipple && !disableKeyboardFocus ? _react2.default.createElement(_FocusRipple2.default, {\n        color: focusRippleColor,\n        opacity: focusRippleOpacity,\n        show: isKeyboardFocused,\n        style: {\n          overflow: 'hidden'\n        },\n        key: 'focusRipple'\n      }) : undefined; // Touch Ripple\n\n      var touchRipple = !disabled && !disableTouchRipple ? _react2.default.createElement(_TouchRipple2.default, {\n        centerRipple: centerRipple,\n        color: touchRippleColor,\n        opacity: touchRippleOpacity,\n        key: 'touchRipple'\n      }, children) : undefined;\n      return [focusRipple, touchRipple, touchRipple ? undefined : children];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          centerRipple = _props3.centerRipple,\n          children = _props3.children,\n          containerElement = _props3.containerElement,\n          disabled = _props3.disabled,\n          disableFocusRipple = _props3.disableFocusRipple,\n          disableKeyboardFocus = _props3.disableKeyboardFocus,\n          disableTouchRipple = _props3.disableTouchRipple,\n          focusRippleColor = _props3.focusRippleColor,\n          focusRippleOpacity = _props3.focusRippleOpacity,\n          href = _props3.href,\n          keyboardFocused = _props3.keyboardFocused,\n          touchRippleColor = _props3.touchRippleColor,\n          touchRippleOpacity = _props3.touchRippleOpacity,\n          onBlur = _props3.onBlur,\n          onClick = _props3.onClick,\n          onFocus = _props3.onFocus,\n          onKeyUp = _props3.onKeyUp,\n          onKeyDown = _props3.onKeyDown,\n          onKeyboardFocus = _props3.onKeyboardFocus,\n          onTouchTap = _props3.onTouchTap,\n          style = _props3.style,\n          tabIndex = _props3.tabIndex,\n          type = _props3.type,\n          other = (0, _objectWithoutProperties3.default)(_props3, ['centerRipple', 'children', 'containerElement', 'disabled', 'disableFocusRipple', 'disableKeyboardFocus', 'disableTouchRipple', 'focusRippleColor', 'focusRippleOpacity', 'href', 'keyboardFocused', 'touchRippleColor', 'touchRippleOpacity', 'onBlur', 'onClick', 'onFocus', 'onKeyUp', 'onKeyDown', 'onKeyboardFocus', 'onTouchTap', 'style', 'tabIndex', 'type']);\n      var _context$muiTheme = this.context.muiTheme,\n          prepareStyles = _context$muiTheme.prepareStyles,\n          enhancedButton = _context$muiTheme.enhancedButton;\n      var mergedStyles = (0, _simpleAssign2.default)({\n        border: 10,\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        fontFamily: this.context.muiTheme.baseTheme.fontFamily,\n        WebkitTapHighlightColor: enhancedButton.tapHighlightColor,\n        // Remove mobile color flashing (deprecated)\n        cursor: disabled ? 'default' : 'pointer',\n        textDecoration: 'none',\n        margin: 0,\n        padding: 0,\n        outline: 'none',\n        fontSize: 'inherit',\n        fontWeight: 'inherit',\n        position: 'relative',\n        // This is needed so that ripples do not bleed past border radius.\n        verticalAlign: href ? 'middle' : null,\n        zIndex: 1 // This is also needed so that (onTouch) ripples do not bleed past border radius.\n\n      }, style); // Passing both background:none & backgroundColor can break due to object iteration order\n\n      if (!mergedStyles.backgroundColor && !mergedStyles.background) {\n        mergedStyles.background = 'none';\n      }\n\n      if (disabled && href) {\n        return _react2.default.createElement('span', (0, _extends3.default)({}, other, {\n          style: mergedStyles\n        }), children);\n      }\n\n      var buttonProps = (0, _extends3.default)({}, other, {\n        style: prepareStyles(mergedStyles),\n        ref: function ref(node) {\n          return _this2.button = node;\n        },\n        disabled: disabled,\n        href: href,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick,\n        onFocus: this.handleFocus,\n        onKeyUp: this.handleKeyUp,\n        onKeyDown: this.handleKeyDown,\n        onTouchTap: this.handleTouchTap,\n        tabIndex: disabled || disableKeyboardFocus ? -1 : tabIndex\n      });\n      var buttonChildren = this.createButtonChildren();\n\n      if (_react2.default.isValidElement(containerElement)) {\n        return _react2.default.cloneElement(containerElement, buttonProps, buttonChildren);\n      }\n\n      if (!href && containerElement === 'button') {\n        buttonProps.type = type;\n      }\n\n      return _react2.default.createElement(href ? 'a' : containerElement, buttonProps, buttonChildren);\n    }\n  }]);\n  return EnhancedButton;\n}(_react.Component);\n\nEnhancedButton.defaultProps = {\n  containerElement: 'button',\n  onBlur: function onBlur() {},\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyUp: function onKeyUp() {},\n  onKeyboardFocus: function onKeyboardFocus() {},\n  onTouchTap: function onTouchTap() {},\n  tabIndex: 0,\n  type: 'button'\n};\nEnhancedButton.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nEnhancedButton.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  centerRipple: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  containerElement: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n  disableFocusRipple: _propTypes2.default.bool,\n  disableKeyboardFocus: _propTypes2.default.bool,\n  disableTouchRipple: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  focusRippleColor: _propTypes2.default.string,\n  focusRippleOpacity: _propTypes2.default.number,\n  href: _propTypes2.default.string,\n  keyboardFocused: _propTypes2.default.bool,\n  onBlur: _propTypes2.default.func,\n  onClick: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onKeyDown: _propTypes2.default.func,\n  onKeyUp: _propTypes2.default.func,\n  onKeyboardFocus: _propTypes2.default.func,\n  onTouchTap: _propTypes2.default.func,\n  style: _propTypes2.default.object,\n  tabIndex: _propTypes2.default.number,\n  touchRippleColor: _propTypes2.default.string,\n  touchRippleOpacity: _propTypes2.default.number,\n  type: _propTypes2.default.string\n} : {};\nexports.default = EnhancedButton;","map":{"version":3,"sources":["C:/Users/mamoussa/project/moc/node_modules/material-ui/internal/EnhancedButton.js"],"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_objectWithoutProperties2","_objectWithoutProperties3","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_simpleAssign","_simpleAssign2","_react","_react2","_propTypes","_propTypes2","_events","_events2","_keycode","_keycode2","_FocusRipple","_FocusRipple2","_TouchRipple","_TouchRipple2","obj","__esModule","default","styleInjected","listening","tabPressed","injectStyle","style","document","createElement","innerHTML","body","appendChild","listenForTabPresses","on","window","event","EnhancedButton","_Component","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","state","isKeyboardFocused","handleKeyDown","props","disabled","disableKeyboardFocus","handleTouchTap","removeKeyboardFocus","onKeyDown","handleKeyUp","onKeyUp","handleBlur","cancelFocusTimeout","onBlur","handleFocus","persist","focusTimeout","setTimeout","setKeyboardFocus","onFocus","handleClick","onClick","onTouchTap","key","componentWillMount","_props","keyboardFocused","setState","componentDidMount","button","focus","onKeyboardFocus","componentWillReceiveProps","nextProps","componentWillUnmount","clearTimeout","createButtonChildren","_props2","centerRipple","children","disableFocusRipple","disableTouchRipple","focusRippleColor","focusRippleOpacity","touchRippleColor","touchRippleOpacity","focusRipple","color","opacity","show","overflow","undefined","touchRipple","render","_this2","_props3","containerElement","href","tabIndex","type","other","_context$muiTheme","context","muiTheme","prepareStyles","enhancedButton","mergedStyles","border","boxSizing","display","fontFamily","baseTheme","WebkitTapHighlightColor","tapHighlightColor","cursor","textDecoration","margin","padding","outline","fontSize","fontWeight","position","verticalAlign","zIndex","backgroundColor","background","buttonProps","ref","node","buttonChildren","isValidElement","cloneElement","Component","defaultProps","contextTypes","object","isRequired","propTypes","process","env","NODE_ENV","bool","oneOfType","string","element","number","func"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _objectWithoutProperties2 = require('babel-runtime/helpers/objectWithoutProperties');\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _simpleAssign = require('simple-assign');\n\nvar _simpleAssign2 = _interopRequireDefault(_simpleAssign);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _events = require('../utils/events');\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _keycode = require('keycode');\n\nvar _keycode2 = _interopRequireDefault(_keycode);\n\nvar _FocusRipple = require('./FocusRipple');\n\nvar _FocusRipple2 = _interopRequireDefault(_FocusRipple);\n\nvar _TouchRipple = require('./TouchRipple');\n\nvar _TouchRipple2 = _interopRequireDefault(_TouchRipple);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar styleInjected = false;\nvar listening = false;\nvar tabPressed = false;\n\nfunction injectStyle() {\n  if (!styleInjected) {\n    // Remove inner padding and border in Firefox 4+.\n    var style = document.createElement('style');\n    style.innerHTML = '\\n      button::-moz-focus-inner,\\n      input::-moz-focus-inner {\\n        border: 0;\\n        padding: 0;\\n      }\\n    ';\n\n    document.body.appendChild(style);\n    styleInjected = true;\n  }\n}\n\nfunction listenForTabPresses() {\n  if (!listening) {\n    _events2.default.on(window, 'keydown', function (event) {\n      tabPressed = (0, _keycode2.default)(event) === 'tab';\n    });\n    listening = true;\n  }\n}\n\nvar EnhancedButton = function (_Component) {\n  (0, _inherits3.default)(EnhancedButton, _Component);\n\n  function EnhancedButton() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    (0, _classCallCheck3.default)(this, EnhancedButton);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = (0, _possibleConstructorReturn3.default)(this, (_ref = EnhancedButton.__proto__ || (0, _getPrototypeOf2.default)(EnhancedButton)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n      isKeyboardFocused: false\n    }, _this.handleKeyDown = function (event) {\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        if ((0, _keycode2.default)(event) === 'enter' && _this.state.isKeyboardFocused) {\n          _this.handleTouchTap(event);\n        }\n        if ((0, _keycode2.default)(event) === 'esc' && _this.state.isKeyboardFocused) {\n          _this.removeKeyboardFocus(event);\n        }\n      }\n      _this.props.onKeyDown(event);\n    }, _this.handleKeyUp = function (event) {\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        if ((0, _keycode2.default)(event) === 'space' && _this.state.isKeyboardFocused) {\n          _this.handleTouchTap(event);\n        }\n      }\n      _this.props.onKeyUp(event);\n    }, _this.handleBlur = function (event) {\n      _this.cancelFocusTimeout();\n      _this.removeKeyboardFocus(event);\n      _this.props.onBlur(event);\n    }, _this.handleFocus = function (event) {\n      if (event) event.persist();\n      if (!_this.props.disabled && !_this.props.disableKeyboardFocus) {\n        // setTimeout is needed because the focus event fires first\n        // Wait so that we can capture if this was a keyboard focus\n        // or touch focus\n        _this.focusTimeout = setTimeout(function () {\n          if (tabPressed) {\n            _this.setKeyboardFocus(event);\n            tabPressed = false;\n          }\n        }, 150);\n\n        _this.props.onFocus(event);\n      }\n    }, _this.handleClick = function (event) {\n      if (!_this.props.disabled) {\n        tabPressed = false;\n        _this.props.onClick(event);\n      }\n    }, _this.handleTouchTap = function (event) {\n      _this.cancelFocusTimeout();\n      if (!_this.props.disabled) {\n        tabPressed = false;\n        _this.removeKeyboardFocus(event);\n        _this.props.onTouchTap(event);\n      }\n    }, _temp), (0, _possibleConstructorReturn3.default)(_this, _ret);\n  }\n\n  (0, _createClass3.default)(EnhancedButton, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      var _props = this.props,\n          disabled = _props.disabled,\n          disableKeyboardFocus = _props.disableKeyboardFocus,\n          keyboardFocused = _props.keyboardFocused;\n\n      if (!disabled && keyboardFocused && !disableKeyboardFocus) {\n        this.setState({ isKeyboardFocused: true });\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      injectStyle();\n      listenForTabPresses();\n      if (this.state.isKeyboardFocused) {\n        this.button.focus();\n        this.props.onKeyboardFocus(null, true);\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ((nextProps.disabled || nextProps.disableKeyboardFocus) && this.state.isKeyboardFocused) {\n        this.setState({ isKeyboardFocused: false });\n        if (nextProps.onKeyboardFocus) {\n          nextProps.onKeyboardFocus(null, false);\n        }\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.focusTimeout) {\n        clearTimeout(this.focusTimeout);\n      }\n    }\n  }, {\n    key: 'isKeyboardFocused',\n    value: function isKeyboardFocused() {\n      return this.state.isKeyboardFocused;\n    }\n  }, {\n    key: 'removeKeyboardFocus',\n    value: function removeKeyboardFocus(event) {\n      if (this.state.isKeyboardFocused) {\n        this.setState({ isKeyboardFocused: false });\n        this.props.onKeyboardFocus(event, false);\n      }\n    }\n  }, {\n    key: 'setKeyboardFocus',\n    value: function setKeyboardFocus(event) {\n      if (!this.state.isKeyboardFocused) {\n        this.setState({ isKeyboardFocused: true });\n        this.props.onKeyboardFocus(event, true);\n      }\n    }\n  }, {\n    key: 'cancelFocusTimeout',\n    value: function cancelFocusTimeout() {\n      if (this.focusTimeout) {\n        clearTimeout(this.focusTimeout);\n        this.focusTimeout = null;\n      }\n    }\n  }, {\n    key: 'createButtonChildren',\n    value: function createButtonChildren() {\n      var _props2 = this.props,\n          centerRipple = _props2.centerRipple,\n          children = _props2.children,\n          disabled = _props2.disabled,\n          disableFocusRipple = _props2.disableFocusRipple,\n          disableKeyboardFocus = _props2.disableKeyboardFocus,\n          disableTouchRipple = _props2.disableTouchRipple,\n          focusRippleColor = _props2.focusRippleColor,\n          focusRippleOpacity = _props2.focusRippleOpacity,\n          touchRippleColor = _props2.touchRippleColor,\n          touchRippleOpacity = _props2.touchRippleOpacity;\n      var isKeyboardFocused = this.state.isKeyboardFocused;\n\n      // Focus Ripple\n\n      var focusRipple = isKeyboardFocused && !disabled && !disableFocusRipple && !disableKeyboardFocus ? _react2.default.createElement(_FocusRipple2.default, {\n        color: focusRippleColor,\n        opacity: focusRippleOpacity,\n        show: isKeyboardFocused,\n        style: {\n          overflow: 'hidden'\n        },\n        key: 'focusRipple'\n      }) : undefined;\n\n      // Touch Ripple\n      var touchRipple = !disabled && !disableTouchRipple ? _react2.default.createElement(\n        _TouchRipple2.default,\n        {\n          centerRipple: centerRipple,\n          color: touchRippleColor,\n          opacity: touchRippleOpacity,\n          key: 'touchRipple'\n        },\n        children\n      ) : undefined;\n\n      return [focusRipple, touchRipple, touchRipple ? undefined : children];\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props3 = this.props,\n          centerRipple = _props3.centerRipple,\n          children = _props3.children,\n          containerElement = _props3.containerElement,\n          disabled = _props3.disabled,\n          disableFocusRipple = _props3.disableFocusRipple,\n          disableKeyboardFocus = _props3.disableKeyboardFocus,\n          disableTouchRipple = _props3.disableTouchRipple,\n          focusRippleColor = _props3.focusRippleColor,\n          focusRippleOpacity = _props3.focusRippleOpacity,\n          href = _props3.href,\n          keyboardFocused = _props3.keyboardFocused,\n          touchRippleColor = _props3.touchRippleColor,\n          touchRippleOpacity = _props3.touchRippleOpacity,\n          onBlur = _props3.onBlur,\n          onClick = _props3.onClick,\n          onFocus = _props3.onFocus,\n          onKeyUp = _props3.onKeyUp,\n          onKeyDown = _props3.onKeyDown,\n          onKeyboardFocus = _props3.onKeyboardFocus,\n          onTouchTap = _props3.onTouchTap,\n          style = _props3.style,\n          tabIndex = _props3.tabIndex,\n          type = _props3.type,\n          other = (0, _objectWithoutProperties3.default)(_props3, ['centerRipple', 'children', 'containerElement', 'disabled', 'disableFocusRipple', 'disableKeyboardFocus', 'disableTouchRipple', 'focusRippleColor', 'focusRippleOpacity', 'href', 'keyboardFocused', 'touchRippleColor', 'touchRippleOpacity', 'onBlur', 'onClick', 'onFocus', 'onKeyUp', 'onKeyDown', 'onKeyboardFocus', 'onTouchTap', 'style', 'tabIndex', 'type']);\n      var _context$muiTheme = this.context.muiTheme,\n          prepareStyles = _context$muiTheme.prepareStyles,\n          enhancedButton = _context$muiTheme.enhancedButton;\n\n\n      var mergedStyles = (0, _simpleAssign2.default)({\n        border: 10,\n        boxSizing: 'border-box',\n        display: 'inline-block',\n        fontFamily: this.context.muiTheme.baseTheme.fontFamily,\n        WebkitTapHighlightColor: enhancedButton.tapHighlightColor, // Remove mobile color flashing (deprecated)\n        cursor: disabled ? 'default' : 'pointer',\n        textDecoration: 'none',\n        margin: 0,\n        padding: 0,\n        outline: 'none',\n        fontSize: 'inherit',\n        fontWeight: 'inherit',\n        position: 'relative', // This is needed so that ripples do not bleed past border radius.\n        verticalAlign: href ? 'middle' : null,\n        zIndex: 1 // This is also needed so that (onTouch) ripples do not bleed past border radius.\n      }, style);\n\n      // Passing both background:none & backgroundColor can break due to object iteration order\n      if (!mergedStyles.backgroundColor && !mergedStyles.background) {\n        mergedStyles.background = 'none';\n      }\n\n      if (disabled && href) {\n        return _react2.default.createElement(\n          'span',\n          (0, _extends3.default)({}, other, {\n            style: mergedStyles\n          }),\n          children\n        );\n      }\n\n      var buttonProps = (0, _extends3.default)({}, other, {\n        style: prepareStyles(mergedStyles),\n        ref: function ref(node) {\n          return _this2.button = node;\n        },\n        disabled: disabled,\n        href: href,\n        onBlur: this.handleBlur,\n        onClick: this.handleClick,\n        onFocus: this.handleFocus,\n        onKeyUp: this.handleKeyUp,\n        onKeyDown: this.handleKeyDown,\n        onTouchTap: this.handleTouchTap,\n        tabIndex: disabled || disableKeyboardFocus ? -1 : tabIndex\n      });\n\n      var buttonChildren = this.createButtonChildren();\n\n      if (_react2.default.isValidElement(containerElement)) {\n        return _react2.default.cloneElement(containerElement, buttonProps, buttonChildren);\n      }\n\n      if (!href && containerElement === 'button') {\n        buttonProps.type = type;\n      }\n\n      return _react2.default.createElement(href ? 'a' : containerElement, buttonProps, buttonChildren);\n    }\n  }]);\n  return EnhancedButton;\n}(_react.Component);\n\nEnhancedButton.defaultProps = {\n  containerElement: 'button',\n  onBlur: function onBlur() {},\n  onClick: function onClick() {},\n  onFocus: function onFocus() {},\n  onKeyDown: function onKeyDown() {},\n  onKeyUp: function onKeyUp() {},\n  onKeyboardFocus: function onKeyboardFocus() {},\n  onTouchTap: function onTouchTap() {},\n  tabIndex: 0,\n  type: 'button'\n};\nEnhancedButton.contextTypes = {\n  muiTheme: _propTypes2.default.object.isRequired\n};\nEnhancedButton.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  centerRipple: _propTypes2.default.bool,\n  children: _propTypes2.default.node,\n  containerElement: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.element]),\n  disableFocusRipple: _propTypes2.default.bool,\n  disableKeyboardFocus: _propTypes2.default.bool,\n  disableTouchRipple: _propTypes2.default.bool,\n  disabled: _propTypes2.default.bool,\n  focusRippleColor: _propTypes2.default.string,\n  focusRippleOpacity: _propTypes2.default.number,\n  href: _propTypes2.default.string,\n  keyboardFocused: _propTypes2.default.bool,\n  onBlur: _propTypes2.default.func,\n  onClick: _propTypes2.default.func,\n  onFocus: _propTypes2.default.func,\n  onKeyDown: _propTypes2.default.func,\n  onKeyUp: _propTypes2.default.func,\n  onKeyboardFocus: _propTypes2.default.func,\n  onTouchTap: _propTypes2.default.func,\n  style: _propTypes2.default.object,\n  tabIndex: _propTypes2.default.number,\n  touchRippleColor: _propTypes2.default.string,\n  touchRippleOpacity: _propTypes2.default.number,\n  type: _propTypes2.default.string\n} : {};\nexports.default = EnhancedButton;"]},"metadata":{},"sourceType":"script"}