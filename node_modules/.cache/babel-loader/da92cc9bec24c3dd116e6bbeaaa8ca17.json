{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mamoussa\\\\project\\\\moc\\\\src\\\\views\\\\Account\\\\components\\\\AccountDetails\\\\AccountDetails.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport authHeader from 'services/auth-header';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\nimport { Card, CardHeader, CardContent, CardActions, Divider, Grid, Button, TextField } from '@material-ui/core';\n\nclass AccountDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getUserDetails = _ => {\n      const userNamesession = JSON.parse(localStorage.getItem('user'));\n      console.log(this.state.firstName);\n      fetch('http://localhost:4000/api/user/listByUsername/' + userNamesession.username).then(response => response.json()).then(response => this.setState({\n        data: response.data\n      })).catch(err => console.error(err));\n    };\n\n    this.saveChangedInformation = () => {\n      console.log(document.getElementById('firstName').value);\n      console.log(document.getElementById('lastName').value);\n      console.log(document.getElementById('adresse').value);\n      console.log(document.getElementById('phone').value);\n      console.log(document.getElementById('email').value);\n      console.log(document.getElementById('country').value);\n    };\n\n    this.state = {\n      data: [],\n      firstName: ''\n    };\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUserDetails();\n  }\n\n  handleChange(event) {\n    this.setState({\n      firstName: event.target.value\n    });\n  }\n\n  UpdateUserProfile(FirstName, LastName, email, PhoneNumber, Adresse, Adresse2, country, PostalCode) {\n    const userNamesession = JSON.parse(localStorage.getItem('user'));\n    const baseUrl = \"http://localhost:4000/api/user/updateProfile/\" + userNamesession.id;\n    const datapost = {\n      FirstName: FirstName,\n      LastName: LastName,\n      email: email,\n      PhoneNumber: PhoneNumber,\n      Adresse: Adresse,\n      Adresse2: Adresse2,\n      Country: country,\n      PostalCode: PostalCode\n    };\n    axios.post(baseUrl, datapost, {\n      headers: authHeader()\n    }).then(response => {\n      if (response.data.success) {\n        alert(response.data.message);\n      } else {\n        alert(\"Error when updating data\");\n      }\n    }).catch(error => {\n      alert(error);\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(CardHeader, {\n      subheader: \"The information can be edited\",\n      title: \"Profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }), React.createElement(CardContent, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      spacing: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"firstName\",\n        fullWidth: true,\n        helperText: \"\",\n        label: \"First name\",\n        margin: \"dense\",\n        name: \"firstName\",\n        onChange: AccountDetails.handleChange,\n        required: true,\n        defaultValue: user.FirstName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"lastName\",\n        fullWidth: true,\n        label: \"Last name\",\n        margin: \"dense\",\n        name: \"lastName\",\n        required: true,\n        defaultValue: user.LastName,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"email\",\n        fullWidth: true,\n        label: \"Email Address\",\n        margin: \"dense\",\n        name: \"email\",\n        required: true,\n        defaultValue: user.email,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"phone\",\n        fullWidth: true,\n        label: \"Phone Number\",\n        margin: \"dense\",\n        name: \"phone\",\n        defaultValue: user.PhoneNumber,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"adresse\",\n        fullWidth: true,\n        label: \"Adresse 1\",\n        margin: \"dense\",\n        name: \"adresse\",\n        required: true // eslint-disable-next-line react/jsx-sort-props\n        ,\n        defaultValue: user.Adresse,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"adresse2\",\n        fullWidth: true,\n        label: \"Adresse 2\",\n        margin: \"dense\",\n        name: \"adresse2\",\n        required: true // eslint-disable-next-line react/jsx-sort-props\n        ,\n        defaultValue: user.Adresse2,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"country\",\n        fullWidth: true,\n        label: \"Country\",\n        margin: \"dense\",\n        name: \"country\",\n        required: true,\n        defaultValue: user.Country,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      });\n    })), React.createElement(Grid, {\n      item: true,\n      md: 6,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, this.state.data.map(function (user) {\n      return React.createElement(TextField, {\n        id: \"PostalCode\",\n        fullWidth: true,\n        label: \"Postal Code\",\n        name: \"PostalCode\",\n        required: true,\n        defaultValue: user.PostalCode,\n        variant: \"outlined\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269\n        },\n        __self: this\n      });\n    })))), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), React.createElement(CardActions, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, React.createElement(Button, {\n      color: \"primary\",\n      variant: \"contained\" // onClick={()=>this.UpdateUserProfile(this.state.FirstName,\"test\",\"maher.moussa90@yahoo.fr\",\"93525096\",\"mahdia\",\"Adresse2\",\"FR\",\"5146\")}\n      ,\n      onClick: () => this.UpdateUserProfile(document.getElementById('firstName').value, document.getElementById('lastName').value, document.getElementById('email').value, document.getElementById('phone').value, document.getElementById('adresse').value, document.getElementById('adresse2').value, document.getElementById('country').value, document.getElementById('PostalCode').value) // onClick={()=>this.saveChangedInformation()}\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285\n      },\n      __self: this\n    }, \"Save details\"))));\n  }\n\n}\n\nexport default AccountDetails;","map":{"version":3,"sources":["C:/Users/mamoussa/project/moc/src/views/Account/components/AccountDetails/AccountDetails.js"],"names":["React","useState","axios","authHeader","clsx","Component","Card","CardHeader","CardContent","CardActions","Divider","Grid","Button","TextField","AccountDetails","constructor","props","getUserDetails","_","userNamesession","JSON","parse","localStorage","getItem","console","log","state","firstName","fetch","username","then","response","json","setState","data","catch","err","error","saveChangedInformation","document","getElementById","value","handleChange","bind","componentDidMount","event","target","UpdateUserProfile","FirstName","LastName","email","PhoneNumber","Adresse","Adresse2","country","PostalCode","baseUrl","id","datapost","Country","post","headers","success","alert","message","render","map","user"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport authHeader from 'services/auth-header';\nimport clsx from 'clsx';\nimport { Component } from \"react\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Grid,\n  Button,\n  TextField\n} from '@material-ui/core';\nclass AccountDetails extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      firstName: ''\n\n    }\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.getUserDetails();\n\n  }\n\n  handleChange(event) {\n    this.setState({ firstName: event.target.value });\n  }\n\n  getUserDetails = _ => {\n    const userNamesession = JSON.parse(localStorage.getItem('user'));\n    console.log(this.state.firstName)\n    fetch('http://localhost:4000/api/user/listByUsername/' + userNamesession.username)\n      .then(response => response.json())\n      .then(response => this.setState({ data: response.data }))\n      .catch(err => console.error(err))\n  }\n\n\n  UpdateUserProfile(FirstName, LastName, email, PhoneNumber, Adresse, Adresse2, country, PostalCode) {\n    const userNamesession = JSON.parse(localStorage.getItem('user'));\n\n    const baseUrl = \"http://localhost:4000/api/user/updateProfile/\" + userNamesession.id\n    const datapost = {\n      FirstName: FirstName,\n      LastName: LastName,\n      email: email,\n      PhoneNumber: PhoneNumber,\n      Adresse: Adresse,\n      Adresse2: Adresse2,\n      Country: country,\n      PostalCode: PostalCode\n\n    }\n\n    axios.post(baseUrl, datapost, { headers: authHeader() })\n      .then(response => {\n        if (response.data.success) {\n          alert(response.data.message)\n\n        }\n        else {\n          alert(\"Error when updating data\")\n\n        }\n      })\n      .catch(error => {\n        alert(error)\n        console.log(error)\n      })\n  }\n\n  saveChangedInformation = () => {\n\n    console.log(document.getElementById('firstName').value);\n    console.log(document.getElementById('lastName').value);\n    console.log(document.getElementById('adresse').value);\n    console.log(document.getElementById('phone').value);\n    console.log(document.getElementById('email').value);\n\n    console.log(document.getElementById('country').value);\n  }\n\n  render() {\n\n\n    return (\n      <React.Fragment>\n        <Card>\n\n\n          <CardHeader\n            subheader=\"The information can be edited\"\n            title=\"Profile\"\n          />\n          <Divider />\n          <CardContent>\n            <Grid\n              container\n              spacing={3}\n            >\n\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n\n                  return (\n                    <TextField\n                    id=\"firstName\"\n                      fullWidth\n                      helperText=\"\"\n                      label=\"First name\"\n                      margin=\"dense\"\n                      name=\"firstName\"\n                      onChange={AccountDetails.handleChange}\n                      required\n                      defaultValue={user.FirstName}\n                      variant=\"outlined\"\n                    />)\n                })}\n\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"lastName\"\n                      fullWidth\n                      label=\"Last name\"\n                      margin=\"dense\"\n                      name=\"lastName\"\n\n                      required\n                      defaultValue={user.LastName}\n                      variant=\"outlined\"\n                    />)\n                })}\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"email\"\n                      fullWidth\n                      label=\"Email Address\"\n                      margin=\"dense\"\n                      name=\"email\"\n\n                      required\n                      defaultValue={user.email}\n                      variant=\"outlined\"\n                    />)\n                })}\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"phone\"\n                      fullWidth\n                      label=\"Phone Number\"\n                      margin=\"dense\"\n                      name=\"phone\"\n                      defaultValue={user.PhoneNumber}\n                      variant=\"outlined\"\n                    />)\n                })}\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"adresse\"\n                      fullWidth\n                      label=\"Adresse 1\"\n                      margin=\"dense\"\n                      name=\"adresse\"\n\n                      required\n\n                      // eslint-disable-next-line react/jsx-sort-props\n\n                      defaultValue={user.Adresse}\n                      variant=\"outlined\"\n                    />)\n                })}\n\n\n\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"adresse2\"\n                      fullWidth\n                      label=\"Adresse 2\"\n                      margin=\"dense\"\n                      name=\"adresse2\"\n\n                      required\n\n                      // eslint-disable-next-line react/jsx-sort-props\n\n                      defaultValue={user.Adresse2}\n                      variant=\"outlined\"\n                    />)\n                })}\n\n\n\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                      id=\"country\"\n                      fullWidth\n                      label=\"Country\"\n                      margin=\"dense\"\n                      name=\"country\"\n\n                      required\n                      defaultValue={user.Country}\n                      variant=\"outlined\"\n                    />)\n                })}\n              </Grid>\n              <Grid\n                item\n                md={6}\n                xs={12}\n              >\n                {this.state.data.map(function (user) {\n                  return (\n                    <TextField\n                    id=\"PostalCode\"\n                      fullWidth\n                      label=\"Postal Code\"\n                      name=\"PostalCode\"\n\n                      required\n                      defaultValue={user.PostalCode}\n                      variant=\"outlined\"\n                    />)\n                })}\n              </Grid>\n            </Grid>\n          </CardContent>\n          <Divider />\n          <CardActions>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n\n              // onClick={()=>this.UpdateUserProfile(this.state.FirstName,\"test\",\"maher.moussa90@yahoo.fr\",\"93525096\",\"mahdia\",\"Adresse2\",\"FR\",\"5146\")}\n              onClick={() => this.UpdateUserProfile(document.getElementById('firstName').value, document.getElementById('lastName').value, document.getElementById('email').value, document.getElementById('phone').value, document.getElementById('adresse').value, document.getElementById('adresse2').value, document.getElementById('country').value, document.getElementById('PostalCode').value)}\n          // onClick={()=>this.saveChangedInformation()}\n            >\n              Save details\n          </Button>\n          </CardActions>\n\n        </Card>\n      </React.Fragment>\n\n\n    )\n\n  }\n\n\n}\n\nexport default AccountDetails;\n"]},"metadata":{},"sourceType":"module"}